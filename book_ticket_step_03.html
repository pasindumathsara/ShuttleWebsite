<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book your ticket</title>
    <link rel="stylesheet" href="CSS/book_ticket_step_03.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Style for the ash-colored box */
        .bus-details-box {
            background-color: #B2BEB5; /* Ash color */
            padding: 20px;
            border-radius: 8px;
            margin: 20px;
            width: 80%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            font-family: Arial, sans-serif;
            color: #333;
        }
        .bus-details-box h3 {
            margin-top: 0;
        }
        

        footer {
            background-color: #1b3e54;
            color: white;
            text-align: center;
            padding: 20px;
            position: relative;
            bottom: 0;
            width: 100%;
            top:105px;
        }

        .footer-links {
            margin-top: 10px;
        }

        .footer-links a {
            color: #c6d1da;
            margin: 0 10px;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #ffa500; /* Darker gold on hover */
        }

        .navbar {
    display: flex;
    flex-direction: column;
    background-color:#1b3e54;
    opacity: 0.9;
    padding: 0;
    color: white;
    position: relative; /* Change this from fixed to relative */
    width: 100%; /* Full width */
}
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px; /* Adjusted padding */
            height: 80px;
        }

        .search-container {
            display: flex;
            align-items: center;
            margin-right: 10px;
            flex: 1;
            position: relative; 
        }

        #searchBar {
            width: 500px; /* Adjusted width */
            padding: 10px;
            background-color: #ddd;
            border: none;
            border-radius: 5px;
            margin-right: 10px; /* Added margin */
        }

        .search-icon {
            background: url('icons8-search-50.png') no-repeat center;
            width: 24px;
            height: 24px;
            cursor: pointer;
            position: absolute;
            right: 10px; /* Positioned right side of search bar */
        }

        #profileButton {
            display: flex;
            align-items: center;
            padding: 10px;
            background-color: #555;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #profileButton .profile-icon {
            width: 20px;
            height: 20px;
            margin-right: 5px;
        }

        .bottom-bar {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            width: 100%; /* Full width */
            background-color:#1b3e54;
        }

        .bottom-bar a {
            color: white;
            text-decoration: none;
            padding: 10px;
            border-radius: 5px;
        }
        .top-bar a {
            color: white;
            text-decoration: none;
            padding: 10px;
            border-radius: 5px;
        }

        .bottom-bar a:hover {
            background-color: #555;
        }

        #eventList {
            padding: 20px;
            display: none;
            position: relative;
            width: 400px;
            background: transparent;
        }

        .event-item {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            cursor: pointer;
        }

        @media screen and (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .search-container {
                margin: 10px 0;
            }

            #searchBar {
                width: 100%; /* Full width in smaller screens */
                margin-right: 0; /* No right margin */
            }

            .search-icon {
                margin-left: 0; /* Adjusted for smaller screens */
                right: 10px;
            }

            #profileButton {
                justify-content: center;
                margin-top: 10px; /* Added margin */
            }
        }

    </style>
</head>

<body>
  
    <div class="navbar">
        <div class="top-bar">
            <img src="Images/iconss.jpg" alt="" width="120px" height="90px" style="position:relative; top: 2px;left: -300px; border-radius:5px">
            
            <div class="search-container" style="position: relative;left: -220px;" >
                <input type="text" id="searchBar" placeholder="Search events..." onclick="toggleEventList()" oninput="filterEvents()">
                <div class="search-icon"></div>
                <img src="Images/icons8-search-50.png" alt="" style="position: relative; width: 28px; height: 28px; left: -50px;">
            </div>
            <img src="Images/admin3.jpg" alt="" style="position: relative; width: 40px; height: 40px; left: 330px;">
            <a href="StudentProfile.php" style="position: relative;left: 330px;">My Profile</a>
            
                
        </div>
        <div class="bottom-bar">
            <a href="home.html"style="position: relative;left: 290px;">Home</a>
            <a href="New_Catergory.html"style="position: relative;left: 120px;">Categories</a>
            <a href="event.html"style="position: relative;left: -50px;">Events</a>
            <a href="contactus2.html"style="position: relative;left: -220px;">Contact Us</a>
            <button class="profile-btn" onclick="window.location.href='logout.php'" style="background-color:#1b3e54; position:relative;width:00px; font-size:16px;">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
           
        </div>
</div>
    <div class="progress-container" style="position: relative; top: 90px; left: 150px;">
        <div class="progress-bar" id="progress-bar"></div>
        <div class="progress-step active" data-step="1">Choose</div>
        <div class="progress-step" data-step="2">Details</div>
        <div class="progress-step" data-step="3">Accept</div>
        <div class="progress-step" data-step="4">Payment</div>
    </div>

    


    <!-- Ash-colored box to show bus details -->
    <div id="bus-details" class="bus-details-box" style="display:none; width: 500px;position: relative; top: 200px;left: 150px;height: 350px;">
        <h3 style="position: relative; left: 190px;">Bus Details</h3>
        <div id="bus-info"></div>
    </div>

    <div class="payment-method-container" style="position: relative; top:-195px;">
        <h2>Select Payment Method</h2>
        <form>
            <div class="payment-option">
                <input type="radio" id="visa" name="payment" value="Visa">
                <label for="visa">
                    <img src="Images/visa.png" alt="Visa" class="payment-logo">
                    Visa
                </label>
            </div>
            <div class="payment-option">
                <input type="radio" id="mastercard" name="payment" value="MasterCard">
                <label for="mastercard">
                    <img src="Images/mastercard.png" alt="MasterCard" class="payment-logo">
                    MasterCard
                </label>
            </div>
            <div class="payment-option">
                <input type="radio" id="lankaqr" name="payment" value="LankaQR">
                <label for="lankaqr">
                    <img src="Images/lankaqr.png" alt="LankaQR" class="payment-logo">
                    LankaQR
                </label>
            </div>
        </form>
        <button class="submit1" onclick="location.href='payments.html'">Proceed</button>
    </div>

    <script>
        // Function to get URL parameters
        function getUrlParam(paramName) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(paramName);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const busNumber = getUrlParam('busNumber');

            if (busNumber) {
                fetch(`PHP/get_bus_details.php?busNumber=${busNumber}`)
                    .then(response => response.json())
                    .then(data => {
                        // Create HTML for bus details
                        const busDetailsHTML = `
                            <p style="position:relative; top:36px; left:50px"><strong>Bus Number</strong> <p style="position:relative; left:300px">: ${data.Bus_Number}</p></p>
                            <p style="position:relative; top:6px; left:50px"><strong>Driver Name</strong> <p style="position:relative; left:300px;top:-30px">: ${data.Driver_name}</p></p>
                            <p style="position:relative; top:-26px; left:50px"><strong>ID Card Number</strong> <p style="position:relative; left:300px;top:-60px">: ${data.Id_no}</p></p>
                            <p style="position:relative; top:-56px; left:50px"><strong>Departure Time</strong>  <p style="position:relative; left:300px;top:-90px">: ${data.Departure_time}</p></p>
                            <p style="position:relative; top:-86px; left:50px"><strong>Arrival Time</strong> <p style="position:relative; left:300px;top:-120px">: ${data.Arrival_time}</p></p>
                            <p style="position:relative; top:-116px; left:50px"><strong>Booked Seats (This Month)</strong> <p style="position:relative; left:300px;top:-150px">: ${data.booked_seats}</p></p>
                            <p style="position:relative; top:-146px; left:50px"><strong>Price</strong>  <p style="position:relative; left:300px;top:-180px">: ${data.price}</p></p>
                        `;
                        document.getElementById('bus-info').innerHTML = busDetailsHTML;
                        document.getElementById('bus-details').style.display = 'block'; // Show the box
                    })
                    .catch(error => console.error('Error fetching bus details:', error));
            } else {
                document.getElementById('bus-details').innerHTML = '<p>No bus selected.</p>';
            }
        });
    </script>
     <script src="JS/book_ticket_step_03.js"></script>
     <footer>
        <p>&copy; 2024 Cinec Shuttle Service. All rights reserved.</p>
        <div class="footer-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Help</a>
        </div>
    </footer>
</body>
</html>
